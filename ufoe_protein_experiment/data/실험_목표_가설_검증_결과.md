# UFoE 실험 — 목표·가설 검증 결과

**실행일:** 2026-02-06  
**실행:** `python3 run_reference_pipeline.py mock 20`  
**모드:** Mock (합성 궤적, OpenMM 미사용)  
**소요:** 약 2초

---

## 1. 실험 목표

| 목표 | 내용 |
|------|------|
| **주목표** | UFoE 기하학적 조건을 **생성 제약**으로 써서, 조건만으로 안정 구조를 설계할 수 있는지 검증 |
| **핵심 질문** | (1) 자연 단백질이 UFoE를 만족하는가? → **이미 0%로 기각** (Phase 0)  
| | (2) **UFoE로 설계한 구조가 물리적으로 안정한가?** → 본 실험으로 검증 |

---

## 2. 가설 및 검증 결과

### H₀ (귀무가설)
> UFoE 조건을 만족하도록 설계된 서열의 **접힘 성공률·구조 안정성**은 무작위 생성 서열과 **차이가 없다**.

| 지표 | UFoE 2a | Control Random | 판정 |
|------|---------|----------------|------|
| 접힘 성공률 | 100% (20/20) | 100% (20/20) | Fisher p=1.0000 → **차이 없음** (H₀ 유지) |
| Rg (final) | 11.40 Å | 11.77 Å | **UFoE가 유의하게 낮음** (p=0.0264, d=-0.73) |
| 에너지 (UFoE vs Inverted) | -6419 kJ/mol | -5583 kJ/mol | **UFoE가 유의하게 낮음** (p=0.0008, d=-1.26) |

**해석:** 접힘 성공률만 보면 H₀를 기각할 수 없음. 다만 **Rg·에너지·compactness**에서는 UFoE가 대조군보다 유의하게 유리한 방향으로 나옴 (Mock 데이터 한계).

---

### H₁ (대립가설)
> UFoE 조건을 만족하도록 설계된 서열은 무작위 대비 **유의하게 높은 접힘 성공률·안정성**을 보인다.

| 검증 | 결과 |
|------|------|
| 접힘 성공률 차이 | Mock에서 둘 다 100% → **유의한 차이 없음** (실제 MD 필요) |
| 구조·에너지 지표 | Rg↓, energy↓, compactness 차이 유의 (UFoE 유리) → **부분 지지** |

**결론 (Mock 기준):** 접힘 성공률로는 H₁ 미달성. 구조·에너지 메트릭에서는 UFoE가 유리하게 나와, **실제 MD(Full) 실행 시 H₁ 검증 가능성**은 열려 있음.

---

### H₂ (자기일관성·설계 원리)
> UFoE 설계 구조는 **접힘 후에도 UFoE 조건을 유지**한다 (K/M ≥ 70% → 자기일관적 설계 원리).

| 그룹 | M (설계 수) | K (접힘 후 필터 통과) | K/M | 70% 기준 |
|------|-------------|------------------------|-----|----------|
| **UFoE 2a** | 20 | 8 | **40%** | 미달 |
| **Control Random** | 20 | 0 | **0%** | 미달 |
| **Control Inverted** | 20 | 0 | 0% | 미달 |

**해석:**
- **UFoE K/M(40%) > Control K/M(0%)** → UFoE 설계가 무작위·반전 대조군보다 **접힘 후에도 UFoE 조건을 유지하는 비율이 높음**.
- 70% 임계값은 Mock에서 미달. 탈락 주원인: **zone_balance** (접힘 후 40%만 통과).
- **“UFoE가 설계 원리로 작동하는가?”** → Mock 단계에서는 **방향성 지지** (UFoE > Control), 수치적 달성은 Full MD 후 재검증 필요.

---

## 3. 실행 결과 요약표

| 항목 | UFoE 2a | Control Random | Control Inverted |
|------|---------|----------------|-------------------|
| 접힘 성공률 | 100% | 100% | 100% |
| K/M (자기일관성) | **40%** | **0%** | 0% |
| Mean Rg (Å) | 11.40 | 11.77 | 11.78 |
| Mean PE (kJ/mol) | -6419 | -6284 | -5583 |
| zone_balance (접힘 후 통과율) | 40% | 0% | 0% |

---

## 4. 결론 (목표·가설 기준)

1. **실험 목표(생성 제약으로서의 UFoE)**  
   - Mock 단계에서 **파이프라인은 정상 동작**하며, UFoE 설계 구조는 대조군보다 **자기일관성(K/M)** 과 **일부 안정성 지표(Rg, energy)** 에서 유리한 경향을 보임.

2. **H₀**  
   - 접힘 성공률만 보면 **기각 불가**. Rg·에너지 등에서는 UFoE 유리 → **실제 MD로 재검증 필요**.

3. **H₁**  
   - Mock에서는 접힘 성공률 차이 없음. 구조·에너지에서는 **부분 지지**. Full 실험에서 유의한 접힘 성공률 차이 확인 필요.

4. **H₂ (자기일관성)**  
   - **UFoE > Control (40% vs 0%)** 로 **방향성은 지지**. 70% 달성 여부는 Full MD 및 zone_balance 최적화 후 검증 필요.

5. **한계**  
   - **Mock 데이터** 사용으로 물리적 접힘·실제 에너지는 반영되지 않음.  
   - **Full 실행**(OpenMM + GPU, 100ns MD) 시 목표·가설에 대한 최종 검증 가능.

---

## 5. 재현 방법

```bash
cd ufoe_protein_experiment
python3 run_reference_pipeline.py mock 20
```

기준 파이프라인: `claude code/ufoe_protein_experiment` (74 tests 통과).
